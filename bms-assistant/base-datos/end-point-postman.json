{
  "info": {
    "name": "BMS Assistant API - COMPLETA",
    "description": "API completa para el sistema de gesti√≥n documental con IA",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "üè† Health & Status",
      "item": [
        {
          "name": "GET / - Home",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/",
              "host": ["{{baseUrl}}"]
            }
          },
          "response": []
        },
        {
          "name": "GET /health - Health Check",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/health",
              "host": ["{{baseUrl}}"],
              "path": ["health"]
            }
          },
          "response": []
        },
        {
          "name": "GET /api/test/status - Status Sistema",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/test/status",
              "host": ["{{baseUrl}}"],
              "path": ["api", "test", "status"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "üë• Usuarios",
      "item": [
        {
          "name": "GET /api/usuarios - Listar todos",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/usuarios",
              "host": ["{{baseUrl}}"],
              "path": ["api", "usuarios"]
            }
          },
          "response": []
        },
        {
          "name": "GET /api/usuarios/{id} - Obtener por ID",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/usuarios/1",
              "host": ["{{baseUrl}}"],
              "path": ["api", "usuarios", "1"]
            }
          },
          "response": []
        },
        {
          "name": "GET /api/usuarios/email/{email} - Obtener por email",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/usuarios/email/admin@indra.com",
              "host": ["{{baseUrl}}"],
              "path": ["api", "usuarios", "email", "admin@indra.com"]
            }
          },
          "response": []
        },
        {
          "name": "POST /api/usuarios - Crear usuario",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"nuevo.supervisor@indra.com\",\n  \"passwordHash\": \"temp123\",\n  \"nombre\": \"Luis\",\n  \"apellido\": \"Rodriguez\",\n  \"rol\": \"SUPERVISOR\",\n  \"empresa\": \"INDRA\",\n  \"especialidad\": \"Sistemas El√©ctricos\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/usuarios",
              "host": ["{{baseUrl}}"],
              "path": ["api", "usuarios"]
            }
          },
          "response": []
        },
        {
          "name": "DELETE /api/usuarios/{id} - Desactivar usuario",
          "request": {
            "method": "DELETE",
            "url": {
              "raw": "{{baseUrl}}/api/usuarios/1",
              "host": ["{{baseUrl}}"],
              "path": ["api", "usuarios", "1"]
            }
          },
          "response": []
        },
        {
          "name": "PUT /api/usuarios/{id}/reactivar - Reactivar usuario",
          "request": {
            "method": "PUT",
            "url": {
              "raw": "{{baseUrl}}/api/usuarios/1/reactivar",
              "host": ["{{baseUrl}}"],
              "path": ["api", "usuarios", "1", "reactivar"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "üèóÔ∏è Sistemas BMS",
      "item": [
        {
          "name": "GET /api/sistemas - Listar todos",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/sistemas",
              "host": ["{{baseUrl}}"],
              "path": ["api", "sistemas"]
            }
          },
          "response": []
        },
        {
          "name": "GET /api/sistemas/activos - Sistemas activos",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/sistemas/activos",
              "host": ["{{baseUrl}}"],
              "path": ["api", "sistemas", "activos"]
            }
          },
          "response": []
        },
        {
          "name": "GET /api/sistemas/{id} - Obtener por ID",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/sistemas/1",
              "host": ["{{baseUrl}}"],
              "path": ["api", "sistemas", "1"]
            }
          },
          "response": []
        },
        {
          "name": "POST /api/sistemas - Crear sistema",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"nombre\": \"Sistema HVAC Terminal Norte\",\n  \"descripcion\": \"Sistema de climatizaci√≥n para la terminal norte\",\n  \"protocoloComunicacion\": \"BACnet\",\n  \"fabricante\": \"Schneider Electric\",\n  \"usuarioId\": 1\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/sistemas",
              "host": ["{{baseUrl}}"],
              "path": ["api", "sistemas"]
            }
          },
          "response": []
        },
        {
          "name": "PUT /api/sistemas/{id} - Actualizar sistema",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"nombre\": \"Sistema HVAC Actualizado\",\n  \"descripcion\": \"Sistema actualizado con nuevos equipos\",\n  \"protocoloComunicacion\": \"BACnet/IP\",\n  \"fabricante\": \"Schneider Electric\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/sistemas/1",
              "host": ["{{baseUrl}}"],
              "path": ["api", "sistemas", "1"]
            }
          },
          "response": []
        },
        {
          "name": "DELETE /api/sistemas/{id} - Desactivar sistema",
          "request": {
            "method": "DELETE",
            "url": {
              "raw": "{{baseUrl}}/api/sistemas/1",
              "host": ["{{baseUrl}}"],
              "path": ["api", "sistemas", "1"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "üìÑ Documentos",
      "item": [
        {
          "name": "GET /api/documentos - Listar todos",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/documentos",
              "host": ["{{baseUrl}}"],
              "path": ["api", "documentos"]
            }
          },
          "response": []
        },
        {
          "name": "GET /api/documentos/{id} - Obtener por ID",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/documentos/1",
              "host": ["{{baseUrl}}"],
              "path": ["api", "documentos", "1"]
            }
          },
          "response": []
        },
        {
          "name": "GET /api/documentos/usuario/{usuarioId} - Por usuario",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/documentos/usuario/1",
              "host": ["{{baseUrl}}"],
              "path": ["api", "documentos", "usuario", "1"]
            }
          },
          "response": []
        },
        {
          "name": "GET /api/documentos/sistema/{sistemaId} - Por sistema",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/documentos/sistema/1",
              "host": ["{{baseUrl}}"],
              "path": ["api", "documentos", "sistema", "1"]
            }
          },
          "response": []
        },
        {
          "name": "POST /api/documentos - Crear documento",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"titulo\": \"Reporte de Comisionamiento HVAC\",\n  \"contenido\": \"Este documento contiene el reporte completo...\",\n  \"tipoFormatoId\": 1,\n  \"sistemaId\": 1,\n  \"usuarioId\": 1,\n  \"estado\": \"BORRADOR\",\n  \"observaciones\": \"Documento inicial\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/documentos",
              "host": ["{{baseUrl}}"],
              "path": ["api", "documentos"]
            }
          },
          "response": []
        },
        {
          "name": "PUT /api/documentos/{id} - Actualizar documento",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"titulo\": \"Reporte Actualizado\",\n  \"contenido\": \"Contenido actualizado...\",\n  \"estado\": \"REVISION\",\n  \"observaciones\": \"En revisi√≥n\",\n  \"calificacion\": 4\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/documentos/1",
              "host": ["{{baseUrl}}"],
              "path": ["api", "documentos", "1"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "ü§ñ Agentes IA",
      "item": [
        {
          "name": "GET /api/agentes - Listar todos",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/agentes",
              "host": ["{{baseUrl}}"],
              "path": ["api", "agentes"]
            }
          },
          "response": []
        },
        {
          "name": "GET /api/agentes/activos - Agentes activos",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/agentes/activos",
              "host": ["{{baseUrl}}"],
              "path": ["api", "agentes", "activos"]
            }
          },
          "response": []
        },
        {
          "name": "GET /api/agentes/sistema/{sistemaId} - Por sistema",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/agentes/sistema/1",
              "host": ["{{baseUrl}}"],
              "path": ["api", "agentes", "sistema", "1"]
            }
          },
          "response": []
        },
        {
          "name": "GET /api/agentes/{id} - Obtener por ID",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/agentes/1",
              "host": ["{{baseUrl}}"],
              "path": ["api", "agentes", "1"]
            }
          },
          "response": []
        },
        {
          "name": "POST /api/agentes - Crear agente",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"nombre\": \"Agente HVAC Especializado\",\n  \"descripcion\": \"Agente para documentaci√≥n HVAC\",\n  \"sistemaId\": 1,\n  \"tipoFormatoId\": 1,\n  \"configuracion\": \"{\\\"temperatura_maxima\\\": 25, \\\"protocolo\\\": \\\"BACnet\\\"}\",\n  \"modeloIA\": \"gemini-pro\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/agentes",
              "host": ["{{baseUrl}}"],
              "path": ["api", "agentes"]
            }
          },
          "response": []
        },
        {
          "name": "PUT /api/agentes/{id} - Actualizar agente",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"nombre\": \"Agente Mejorado\",\n  \"descripcion\": \"Agente actualizado\",\n  \"configuracion\": \"{\\\"temperatura_maxima\\\": 26}\",\n  \"modeloIA\": \"gemini-pro\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/agentes/1",
              "host": ["{{baseUrl}}"],
              "path": ["api", "agentes", "1"]
            }
          },
          "response": []
        },
        {
          "name": "DELETE /api/agentes/{id} - Desactivar agente",
          "request": {
            "method": "DELETE",
            "url": {
              "raw": "{{baseUrl}}/api/agentes/1",
              "host": ["{{baseUrl}}"],
              "path": ["api", "agentes", "1"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "üìã Formatos",
      "item": [
        {
          "name": "GET /api/formatos - Listar todos",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/formatos",
              "host": ["{{baseUrl}}"],
              "path": ["api", "formatos"]
            }
          },
          "response": []
        },
        {
          "name": "GET /api/formatos/activos - Formatos activos",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/formatos/activos",
              "host": ["{{baseUrl}}"],
              "path": ["api", "formatos", "activos"]
            }
          },
          "response": []
        },
        {
          "name": "GET /api/formatos/{id} - Obtener por ID",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/formatos/1",
              "host": ["{{baseUrl}}"],
              "path": ["api", "formatos", "1"]
            }
          },
          "response": []
        },
        {
          "name": "GET /api/formatos/codigo/{codigo} - Por c√≥digo",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/formatos/codigo/N1",
              "host": ["{{baseUrl}}"],
              "path": ["api", "formatos", "codigo", "N1"]
            }
          },
          "response": []
        },
        {
          "name": "POST /api/formatos - Crear formato",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"codigo\": \"N4\",\n  \"nombre\": \"Nuevo Formato Personalizado\",\n  \"descripcion\": \"Formato personalizado para documentaci√≥n especial\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/formatos",
              "host": ["{{baseUrl}}"],
              "path": ["api", "formatos"]
            }
          },
          "response": []
        },
        {
          "name": "PUT /api/formatos/{id} - Actualizar formato",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"nombre\": \"Formato Actualizado\",\n  \"descripcion\": \"Descripci√≥n actualizada\",\n  \"plantilla\": \"Nueva plantilla\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/formatos/1",
              "host": ["{{baseUrl}}"],
              "path": ["api", "formatos", "1"]
            }
          },
          "response": []
        },
        {
          "name": "DELETE /api/formatos/{id} - Desactivar formato",
          "request": {
            "method": "DELETE",
            "url": {
              "raw": "{{baseUrl}}/api/formatos/1",
              "host": ["{{baseUrl}}"],
              "path": ["api", "formatos", "1"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "üìä Dashboard & M√©tricas",
      "item": [
        {
          "name": "GET /api/dashboard/estadisticas - Estad√≠sticas",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/dashboard/estadisticas",
              "host": ["{{baseUrl}}"],
              "path": ["api", "dashboard", "estadisticas"]
            }
          },
          "response": []
        },
        {
          "name": "GET /api/metricas - Listar m√©tricas",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/metricas",
              "host": ["{{baseUrl}}"],
              "path": ["api", "metricas"]
            }
          },
          "response": []
        },
        {
          "name": "GET /api/metricas/documento/{documentoId} - Por documento",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/metricas/documento/1",
              "host": ["{{baseUrl}}"],
              "path": ["api", "metricas", "documento", "1"]
            }
          },
          "response": []
        },
        {
          "name": "POST /api/metricas - Crear m√©trica",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"documentoId\": 1,\n  \"tiempoGeneracionSegundos\": 120,\n  \"erroresDetectados\": 2,\n  \"observacionesCalidad\": 1,\n  \"satisfaccionUsuario\": 4\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/metricas",
              "host": ["{{baseUrl}}"],
              "path": ["api", "metricas"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "üïê Historial",
      "item": [
        {
          "name": "GET /api/historial - Listar todo",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/historial",
              "host": ["{{baseUrl}}"],
              "path": ["api", "historial"]
            }
          },
          "response": []
        },
        {
          "name": "GET /api/historial/documento/{documentoId} - Por documento",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/historial/documento/1",
              "host": ["{{baseUrl}}"],
              "path": ["api", "historial", "documento", "1"]
            }
          },
          "response": []
        },
        {
          "name": "GET /api/historial/usuario/{usuarioId} - Por usuario",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/historial/usuario/1",
              "host": ["{{baseUrl}}"],
              "path": ["api", "historial", "usuario", "1"]
            }
          },
          "response": []
        },
        {
          "name": "POST /api/historial - Crear registro",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"documentoId\": 1,\n  \"usuarioId\": 1,\n  \"accion\": \"CREACION\",\n  \"detalles\": \"Documento creado exitosamente\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/historial",
              "host": ["{{baseUrl}}"],
              "path": ["api", "historial"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "ü§ñ IA - Generaci√≥n de Documentos",
      "item": [
        {
          "name": "POST /api/ia/generar-documento - Generar con IA",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"tipoFormato\": \"N1\",\n  \"sistemaId\": 1,\n  \"usuarioId\": 1,\n  \"datos\": {\n    \"equipos\": [\"Chiller 1\", \"Torre de enfriamiento\"],\n    \"configuraciones\": \"Temperatura: 22¬∞C, Humedad: 50%\",\n    \"pruebas_realizadas\": [\"Prueba de presi√≥n\", \"Prueba de temperatura\"],\n    \"resultados\": \"Todos los sistemas funcionando correctamente\"\n  }\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/ia/generar-documento",
              "host": ["{{baseUrl}}"],
              "path": ["api", "ia", "generar-documento"]
            }
          },
          "response": []
        }
      ]
    }
  ],
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:8888",
      "type": "string"
    }
  ]
}